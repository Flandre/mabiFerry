<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>轮渡时刻表系统</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>轮渡时刻表预测系统</h1>
        
        <div class="usage-notice" style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2196f3;">
            <h3 style="margin: 0 0 10px 0; color: #1976d2;">📝 使用说明</h3>
            <p style="margin: 0; font-size: 14px; line-height: 1.5; color: #424242;">
                <strong>新版本特性：</strong>本系统现在完全基于您的实时观察数据计算基础时间，无需依赖固定的历史时间。
                每次游戏维护后，只需重新输入观察数据即可自动校准。
                <br><br>
                <strong>操作步骤：</strong>
                1. 在游戏中观察塞拉港口-凯安港口的1-10线轮渡状态
                2. 记录观察时的当前时间和显示的剩余时间
                3. 状态选择：等候（船在路上）或检票中（船已到港）
                4. 输入一条贝尔法斯特-卡普港口的10线数据（可选）
                5. 系统将自动计算并显示所有线路的准确时刻表
            </p>
        </div>
        
        <div class="main-layout">
            <!-- 左侧控制面板 -->
            <div class="left-panel">
                <div class="control-panel">
                    <h2>基础数据设置</h2>
                    
                    <!-- 塞拉-凯安数据设置 -->
                    <div class="data-section">
                        <h3>塞拉港口-凯安港口数据</h3>
                        <div class="data-inputs" id="iria-data">
                            <div class="data-row">
                                <span class="line-label">线路1:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:35:03" step="1">
                                <input type="text" class="display-time" value="1:09" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路2:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:34:42" step="1">
                                <input type="text" class="display-time" value="2:06" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路3:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:34:22" step="1">
                                <input type="text" class="display-time" value="0:53" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路4:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:34:01" step="1">
                                <input type="text" class="display-time" value="1:55" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路5:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:33:45" step="1">
                                <input type="text" class="display-time" value="4:08" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路6:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:33:25" step="1">
                                <input type="text" class="display-time" value="2:42" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路7:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:33:07" step="1">
                                <input type="text" class="display-time" value="5:14" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路8:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:32:45" step="1">
                                <input type="text" class="display-time" value="1:31" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路9:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:32:23" step="1">
                                <input type="text" class="display-time" value="3:44" placeholder="分:秒">
                            </div>
                            <div class="data-row">
                                <span class="line-label">线路10:</span>
                                <select class="status-select">
                                    <option value="1">等候</option>
                                    <option value="2" selected>检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:31:21" step="1">
                                <input type="text" class="display-time" value="3:53" placeholder="分:秒">
                            </div>
                        </div>
                    </div>

                    <!-- 卡普-贝尔法斯特数据设置 -->
                    <div class="data-section">
                        <h3>卡普港口-贝尔法斯特数据</h3>
                        <div class="data-inputs" id="belvast-data">
                            <div class="data-row">
                                <span class="line-label">线路10:</span>
                                <select class="status-select">
                                    <option value="1" selected>等候</option>
                                    <option value="2">检票中</option>
                                </select>
                                <input type="datetime-local" class="current-time" value="2025-02-18T15:38:27" step="1">
                                <input type="text" class="display-time" value="0:47" placeholder="分:秒">
                            </div>
                        </div>
                    </div>

                    <!-- 当前选择的线路 -->
                    <div class="current-channel-section">
                        <h3>当前查看线路</h3>
                        <select id="current-channel">
                            <option value="0">线路1</option>
                            <option value="1">线路2</option>
                            <option value="2">线路3</option>
                            <option value="3">线路4</option>
                            <option value="4">线路5</option>
                            <option value="5">线路6</option>
                            <option value="6">线路7</option>
                            <option value="7">线路8</option>
                            <option value="8">线路9</option>
                            <option value="9" selected>线路10</option>
                        </select>
                    </div>

                    <!-- 计算结果显示 -->
                    <div class="calculation-results">
                        <h3>计算结果</h3>
                        <div class="result-display">
                            <div class="result-item">
                                <label>伊利亚基础时间:</label>
                                <span id="calculated-iria-time">计算中...</span>
                            </div>
                            <div class="result-item">
                                <label>贝尔法斯特基础时间:</label>
                                <span id="calculated-belvast-time">计算中...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 数据管理区域将由JavaScript动态创建 -->
                </div>
            </div>

            <!-- 右侧时刻表显示区域 -->
            <div class="right-panel">
                <div class="timetable-container">
                    <h2>轮渡时刻表</h2>
                    <div class="update-time">
                        <span>更新时间: <span id="update-time"></span></span>
                    </div>
                    
                    <!-- 港口时刻表 -->
                    <div id="timetable-content">
                        <!-- 动态生成的时刻表内容 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 